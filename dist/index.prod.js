<<<<<<< HEAD
"use strict";var port=4e3,express=require("express"),projects=require("./data/helpers/projectModel"),actions=require("./data/helpers/actionModel"),server=express();server.use(express.json()),server.get("/api/",function(e,t){return t.send("API up and running!")}),server.post("/api/projects",function(e,t){if(!e.body.name||!e.body.description)return t.status(400).json({errorMessage:"Please provide name and description for the project."});projects.insert(e.body).then(function(e){t.status(201).json(e)}).catch(function(e){return console.log(e),t.status(500).json({error:"There was an error while saving the post to the database"})})}),server.post("/api/projects/:id/comments",function(e,t){console.log(e.params.id);var s=e.params.id;if(e.body.post_id=s,!e.body.text)return t.status(400).json({errorMessage:"Please provide text for the comment."});if(0===projects.findPostComments(e.body.post_id).length)return t.status(404).json({message:"The post with the specified ID does not exist."});try{projects.insertComment(e.body).then(function(e){return t.status(201).json(e)}).catch(function(e){t.status(404).json({message:"The post with the specified ID does not exist."})})}catch(e){return console.log(e),t.status(500).json({error:"There was an error while saving the comment to the database"})}}),server.get("/api/projects",function(e,t){projects.find().then(function(e){t.status(200).json(e)}).catch(function(e){return console.log(e),t.status(500).json({error:"The projects information could not be retrieved."})})}),server.get("/api/projects/:id",function(e,t){projects.findById(e.params.id).then(function(e){return 0===e.length?t.status(404).json({message:"The post with the specified ID does not exist."}):t.status(200).json(e)}).catch(function(e){return console.log(e),t.status(500).json({error:"The post information could not be retrieved."})})}),server.listen(port,function(){return console.log("API running on port ".concat(port))});
=======
"use strict";var express=require("express"),cors=require("cors"),router=express.Router(),projects=require("./data/helpers/projectModel"),server=express();server.use(express.json()),server.use(cors()),server.get("/api/",function(e,r){projects.get(e.params.id).then(function(e){r.status(200).json(e)}).catch(function(e){return console.log(e),r.status(500).json({error:"The posts information could not be retrieved."})})}),server.get("/api/:id",function(e,r){projects.get(e.params.id).then(function(e){r.status(200).json(e)}).catch(function(e){return console.log(e),r.status(500).json({error:"The posts information could not be retrieved."})})}),server.listen(4e3,function(){return console.log("API running on port 4000")});
>>>>>>> 8fa1143e92d45bf429e1a979c60b456628683fd2
